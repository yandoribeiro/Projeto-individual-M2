<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Editar Tarefa</title>
</head>
<body>
  <h1>Editar Tarefa</h1>

  <form action="/tasks/<%= task.id %>?_method=PUT" method="POST">
    <label for="title">Título:</label>
    <input type="text" id="title" name="title" value="<%= task.title %>" required><br>

    <label for="description">Descrição:</label>
    <textarea id="description" name="description"><%= task.description %></textarea><br>

    <label for="due_date">Data de entrega:</label>
    <input type="date" id="due_date" name="due_date" value="<%= task.due_date ? task.due_date.toISOString().substring(0, 10) : '' %>"><br>

    <label for="priority">Prioridade:</label>
    <select id="priority" name="priority">
      <option value="low" <%= task.priority === 'low' ? 'selected' : '' %>>Baixa</option>
      <option value="medium" <%= task.priority === 'medium' ? 'selected' : '' %>>Média</option>
      <option value="high" <%= task.priority === 'high' ? 'selected' : '' %>>Alta</option>
    </select><br>

    <label for="status">Status:</label>
    <select id="status" name="status">
      <option value="pending" <%= task.status === 'pending' ? 'selected' : '' %>>Pendente</option>
      <option value="in_progress" <%= task.status === 'in_progress' ? 'selected' : '' %>>Em andamento</option>
      <option value="completed" <%= task.status === 'completed' ? 'selected' : '' %>>Concluída</option>
    </select><br>

    <button type="submit">Salvar Alterações</button>
  </form>

  <br>
  <a href="/tasks">Voltar para Tarefas</a>
</body>
</html>
